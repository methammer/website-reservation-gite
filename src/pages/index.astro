---
import MainLayout from '../layouts/MainLayout.astro';
// Corrected: Import specific icons from lucide-astro
import { Waves, Leaf, Sparkles, Users } from 'lucide-astro';

const heroImages = [
  { src: "https://images.pexels.com/photos/261102/pexels-photo-261102.jpeg?auto=compress&cs=tinysrgb&w=1920&h=1080&fit=crop", alt: "Relaxing poolside view at a Provençal gîte" },
  { src: "https://images.pexels.com/photos/161264/lavender-lavender-field-purple-provence-161264.jpeg?auto=compress&cs=tinysrgb&w=1920&h=1080&fit=crop", alt: "Expansive lavender fields in Provence" },
  { src: "https://images.pexels.com/photos/130879/pexels-photo-130879.jpeg?auto=compress&cs=tinysrgb&w=1920&h=1080&fit=crop", alt: "Charming stone house exterior in a Provençal village" },
  { src: "https://images.pexels.com/photos/6782473/pexels-photo-6782473.jpeg?auto=compress&cs=tinysrgb&w=1920&h=1080&fit=crop", alt: "Cozy and inviting interior of a gîte in Provence" }
];
---

<MainLayout title="Accueil | Votre Séjour en Provence : Gîtes & Chambres d'Hôte avec Piscine et Nature">
  
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-background">
      {heroImages.map((image, index) => (
        <img 
          src={image.src} 
          alt={image.alt} 
          class={`slide ${index === 0 ? 'active' : ''}`} 
          aria-hidden="true" 
          loading={index === 0 ? "eager" : "lazy"}
          draggable="false"
        />
      ))}
      <div class="hero-overlay"></div>
    </div>
    <div class="hero-content container">
      <h1>Votre Séjour en Provence : Gîtes & Chambres d'Hôte avec Grande Piscine et Cadre Naturel d'Exception.</h1>
      <p class="intro-text">À la recherche d'un séjour authentique en Provence alliant le charme de la campagne et le plaisir d'une piscine ? Nos hébergements vous attendent au cœur d'un environnement naturel préservé.</p>
      <div class="hero-cta">
        <a href="/hebergements/" class="button">Découvrez nos hébergements</a>
        <a href="/piscine-nature/" class="button button-secondary">Explorez la Piscine & la Nature</a>
      </div>
    </div>
  </section>

  <!-- Section "Atouts / Pourquoi Nous Choisir ?" -->
  <section id="atouts" class="atouts-section container section-padding">
    <h2 class="text-center">Pourquoi Nous Choisir ?</h2>
    <div class="atouts-grid">
      <div class="atout-item">
        <div class="atout-icon">
          <!-- Corrected: Use specific icon component -->
          <Waves size={48} stroke-width={1.5} />
        </div>
        <h3>Grande Piscine</h3>
        <p>Détente et fraîcheur assurées dans notre vaste piscine, un véritable oasis.</p>
      </div>
      <div class="atout-item">
        <div class="atout-icon">
          <!-- Corrected: Use specific icon component -->
          <Leaf size={48} stroke-width={1.5} />
        </div>
        <h3>Cadre Naturel Préservé</h3>
        <p>Calme, randonnées, biodiversité au sein d'un domaine d'exception.</p>
      </div>
      <div class="atout-item">
        <div class="atout-icon">
          <!-- Corrected: Use specific icon component -->
          <Sparkles size={48} stroke-width={1.5} />
        </div>
        <h3>Séjours Authentiques</h3>
        <p>Charme provençal, hospitalité chaleureuse et hébergements de caractère.</p>
      </div>
      <div class="atout-item">
        <div class="atout-icon">
          <!-- Corrected: Use specific icon component -->
          <Users size={48} stroke-width={1.5} />
        </div>
        <h3>Idéal Familles & Nature</h3>
        <p>Espace, jeux en plein air, et découvertes pour petits et grands.</p>
      </div>
    </div>
  </section>

  <!-- Aperçu des Hébergements -->
  <section id="apercu-hebergements" class="apercu-hebergements-section section-padding" style="background-color: var(--background-section);">
    <div class="container">
      <h2 class="text-center">Nos Hébergements de Charme</h2>
      <div class="hebergements-grid">
        <article class="hebergement-card">
          <img src="https://images.pexels.com/photos/534151/pexels-photo-534151.jpeg?auto=compress&cs=tinysrgb&w=400&h=300&fit=crop" alt="Gîte Lavande - Intérieur chaleureux d'un gîte en Provence">
          <div class="card-content">
            <h3>Gîte Lavande</h3>
            <p>Capacité: 4 personnes</p>
            <a href="/hebergements/#gite-lavande" class="button button-secondary">En savoir plus</a>
          </div>
        </article>
        <article class="hebergement-card">
          <img src="https://images.pexels.com/photos/271618/pexels-photo-271618.jpeg?auto=compress&cs=tinysrgb&w=400&h=300&fit=crop" alt="Chambre Romarin - Chambre d'hôte lumineuse et accueillante">
          <div class="card-content">
            <h3>Chambre Romarin</h3>
            <p>Capacité: 2 personnes</p>
            <a href="/hebergements/#chambre-romarin" class="button button-secondary">En savoir plus</a>
          </div>
        </article>
        <article class="hebergement-card">
          <img src="https://images.pexels.com/photos/279746/pexels-photo-279746.jpeg?auto=compress&cs=tinysrgb&w=400&h=300&fit=crop" alt="Gîte Olivier - Gîte spacieux avec vue sur la nature">
          <div class="card-content">
            <h3>Gîte Olivier</h3>
            <p>Capacité: 6 personnes</p>
            <a href="/hebergements/#gite-olivier" class="button button-secondary">En savoir plus</a>
          </div>
        </article>
      </div>
      <div class="text-center" style="margin-top: var(--spacing-lg);">
        <a href="/hebergements/" class="button">Voir tous nos hébergements</a>
      </div>
    </div>
  </section>

  <!-- Section "Piscine & Nature" (teaser) -->
  <section id="teaser-piscine-nature" class="teaser-piscine-nature-section section-padding">
    <div class="container text-center">
      <h2>Un Coin de Paradis Vous Attend</h2>
      <p>Notre domaine avec sa grande piscine est la promesse de vacances réussies. Réservez votre coin de paradis et plongez dans la beauté de la Provence.</p>
      <div class="teaser-images">
        <img src="https://images.pexels.com/photos/261102/pexels-photo-261102.jpeg?auto=compress&cs=tinysrgb&w=500&h=350&fit=crop" alt="Piscine magnifique bordée de transats, invitant à la détente" class="teaser-image">
        <img src="https://images.pexels.com/photos/161264/lavender-lavender-field-purple-provence-161264.jpeg?auto=compress&cs=tinysrgb&w=500&h=350&fit=crop" alt="Cadre naturel exceptionnel avec champs de lavande en Provence" class="teaser-image">
      </div>
      <a href="/piscine-nature/" class="button" style="margin-top: var(--spacing-lg);">Découvrir la Piscine & la Nature</a>
    </div>
  </section>

  <!-- Témoignages Clients -->
  <section id="temoignages" class="temoignages-section section-padding" style="background-color: var(--background-section);">
    <div class="container">
      <h2 class="text-center">Ce que nos clients disent</h2>
      <div class="temoignages-grid">
        <blockquote class="temoignage-card">
          <p>"Un séjour inoubliable ! La piscine est superbe et le cadre est tout simplement magique. Nous reviendrons !"</p>
          <footer>- Famille Dupont</footer>
        </blockquote>
        <blockquote class="temoignage-card">
          <p>"L'endroit parfait pour se ressourcer. Calme, nature et un accueil des plus chaleureux. Les gîtes sont très confortables."</p>
          <footer>- Sophie L.</footer>
        </blockquote>
        <blockquote class="temoignage-card">
          <p>"Nous avons adoré nos vacances ici. Les enfants ont passé leur temps dans la piscine et nous avons profité des belles randonnées."</p>
          <footer>- Marc et Hélène V.</footer>
        </blockquote>
      </div>
    </div>
  </section>

</MainLayout>

<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    const slides = document.querySelectorAll('.hero-background .slide');
    let currentSlide = 0;
    const slideInterval = 6000; // 6 seconds

    if (slides.length > 0) {
      slides[currentSlide].classList.add('active');

      setInterval(() => {
        slides[currentSlide].classList.remove('active');
        currentSlide = (currentSlide + 1) % slides.length;
        slides[currentSlide].classList.add('active');
      }, slideInterval);
    }
  });
</script>

<style>
  .section-padding {
    padding-top: var(--spacing-xxl);
    padding-bottom: var(--spacing-xxl);
  }

  /* Hero Section */
  .hero-section {
    position: relative;
    min-height: 70vh; 
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: var(--text-clair);
    overflow: hidden; 
  }
  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1; 
  }
  .hero-background .slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    opacity: 0;
    transition: opacity 1s ease-in-out;
    z-index: 1; 
  }
  .hero-background .slide.active {
    opacity: 1;
  }
  .hero-overlay { 
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(34, 34, 34, 0.5); 
    z-index: 2; 
  }
  .hero-content {
    position: relative; 
    z-index: 3; 
  }
  .hero-content h1 {
    font-family: var(--font-family-serif);
    font-weight: 700; 
    font-size: 2.8rem; 
    margin-bottom: var(--spacing-md);
    color: var(--text-clair);
    text-shadow: 1px 1px 4px rgba(0,0,0,0.7); 
    line-height: 1.2;
  }
  .hero-content .intro-text {
    font-family: var(--font-family-sans-serif);
    font-weight: 400; 
    font-size: 1.25rem;
    line-height: 1.6;
    margin-bottom: var(--spacing-lg);
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
  }
  .hero-cta {
    display: flex;
    justify-content: center;
    gap: var(--spacing-md);
    flex-wrap: wrap;
  }
  .hero-cta .button {
    font-size: 1.1rem;
  }

  /* Atouts Section */
  .atouts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--spacing-lg);
    margin-top: var(--spacing-lg);
  }
  .atout-item {
    text-align: center;
    padding: var(--spacing-lg);
    background-color: var(--background-section);
    border-radius: var(--border-radius-md);
    box-shadow: var(--shadow-sm);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .atout-item:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-md);
  }
  .atout-icon {
    /* font-size is not needed here as size is passed as prop to lucide icons */
    color: var(--ocre-fonce);
    margin-bottom: var(--spacing-md); 
    display: inline-block; 
    transition: transform 0.3s ease, color 0.3s ease;
  }
  .atout-icon svg { /* Style the SVG directly if needed, or rely on props */
    transition: transform 0.3s ease; /* For hover effect on SVG */
  }
  .atout-icon:hover svg { 
    transform: scale(1.15);
  }
  .atout-icon:hover { /* For color change on hover of the container */
     color: var(--accent-olive);
  }
  .atout-item h3 {
    font-size: 1.35rem; 
    color: var(--ocre-fonce);
    margin-bottom: var(--spacing-sm);
  }

  /* Aperçu Hébergements */
  .hebergements-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--spacing-lg);
    margin-top: var(--spacing-lg);
  }
  .hebergement-card {
    background-color: var(--text-clair);
    border-radius: var(--border-radius-md);
    box-shadow: var(--shadow-md);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
   .hebergement-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-lg);
  }
  .hebergement-card img {
    width: 100%;
    height: 200px;
    object-fit: cover;
  }
  .hebergement-card .card-content {
    padding: var(--spacing-lg);
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  .hebergement-card h3 {
    margin-top: 0;
    color: var(--ocre-fonce);
  }
  .hebergement-card .button {
    margin-top: var(--spacing-md);
    align-self: flex-start;
  }

  /* Teaser Piscine & Nature */
  .teaser-piscine-nature-section .teaser-images {
    display: flex;
    gap: var(--spacing-lg);
    justify-content: center;
    margin-top: var(--spacing-lg);
    flex-wrap: wrap;
  }
  .teaser-piscine-nature-section .teaser-image {
    max-width: 48%;
    min-width: 300px; 
    height: 350px; 
    object-fit: cover; 
    border-radius: var(--border-radius-md);
    box-shadow: var(--shadow-lg);
    transition: transform 0.3s ease;
  }
  .teaser-piscine-nature-section .teaser-image:hover {
    transform: scale(1.03);
  }


  /* Témoignages Section */
  .temoignages-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--spacing-lg);
    margin-top: var(--spacing-lg);
  }
  .temoignage-card {
    background-color: var(--ocre-clair);
    padding: var(--spacing-lg);
    border-radius: var(--border-radius-md);
    border-left: 5px solid var(--ocre-fonce);
    margin: 0; 
  }
  .temoignage-card p {
    font-style: italic;
    margin-bottom: var(--spacing-sm);
  }
  .temoignage-card footer {
    font-weight: bold;
    color: var(--ocre-fonce);
    text-align: right;
  }

  @media (max-width: 768px) {
    .hero-content h1 {
      font-size: 2.2rem; 
    }
    .hero-content .intro-text {
      font-size: 1.1rem; 
    }
    .teaser-piscine-nature-section .teaser-image {
      max-width: 100%;
      height: auto; 
    }
    .atout-icon svg { /* Adjust SVG size for mobile if props aren't enough or for finer control */
      /* Example: width: 36px; height: 36px; */
    }
    .atout-item h3 {
      font-size: 1.2rem;
    }
  }
</style>
